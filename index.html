<!DOCTYPE html>
<html>
<meta charset="utf-8">

<!-- Load d3.js & color scale -->
<script src="https://d3js.org/d3.v4.js"></script>
<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3-annotation/1.12.1/d3-annotation.min.js"></script>
<head>
<style>
html {
  position: relative;
  min-height: 100%;
}
body {
  /* Margin bottom by footer height */
  margin-bottom: 60px;
}
.footer {
  position: absolute;
  bottom: 0;
  width: 100%;
  /* Set the fixed height of the footer here */
  height: 60px;
  line-height: 60px; /* Vertically center the text there */
  align: left;
  background-color: #f5f5f5;
}


</style>

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
   
 </head>   
 
 <header>
      <!-- Fixed navbar -->
      <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
        <a class="navbar-brand" href="#">Visualizing SAT Scores of Illinois Public High Schools</a>
        
        <!-- 
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
              <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Link</a>
            </li>
            <li class="nav-item">
              <a class="nav-link disabled" href="#">Disabled</a>
            </li>
            
            
          </ul>
           -->
        </div>
      </nav>
    </header>
<br><br><br>
<nav aria-label="...">
  <ul class="pagination">
    <li class="page-item disabled">
      <a class="page-link active" href="#" tabindex="-1">Previous</a>
    </li>
    <li class="page-item active"><a class="page-link" href="#">1<span class="sr-only">(current)</span></a></li>
    <li class="page-item">
      <a class="page-link" href="#">2 </a>
    </li>
    <li class="page-item"><a class="page-link" href="#">3</a></li>
    <li class="page-item">
      <a class="page-link" href="#">Next</a>
    </li>
  </ul>
</nav>

<div style="padding: 15px 15px 15px 15px;">

hello world hello world hello world hello world hello world hello world hello 
world hello world hello world hello world hello world hello world hello world hello world 
hello world hello world hello world hello world hello world hello world hello world hello world hello 
world hello world hello world hello world hello world hello world hello world hello world hello world hello world hello world hello world

</div>

  
 <table>
 <tr>
 <td><div id="sat_ela_donut" style='border:1px;  border-color:black;'></td><td><div id="sat_math_donut"></td>
 </tr>
  </table>
 
 

      <div style="text-align:left; padding: 15px 15px 15px 15px; color:grey; font-size: 13px;">
        
        Random testing is praised for the following strengths:

It is cheap to use: it does not need to be smart about the program under test.
It does not have any bias: unlike manual testing, it does not overlook bugs because there is misplaced trust in some code.
It is quick to find bug candidates: it typically takes a couple of minutes to perform a testing session.
If software is properly specified: it finds real bugs.
The following weaknesses have been described :

It only finds basic bugs (f.ex. null pointer dereferencing).
It is only as precise as the specification and specifications are typically imprecise.
It compares poorly with other techniques to find bugs (f.ex. static program analysis).
If different inputs are randomly selected on each test run, this can create problems for continuous integration because the same tests will pass or fail randomly.[6]
Some argue that it would be better to thoughtfully cover all relevant cases with manually constructed tests in a white-box fashion, than to rely on randomness.[6]
It may require a very large number of tests for modest levels of confidence in modest failure rates. For example, it will require 459 failure-free tests to have at least 99% confidence that the probability of failure is less than 1/100.[4]
        
      </div>
    
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>



<script>

// set the dimensions and margins of the graph
var width = 600
    height = 400
    margin = 80

// The radius of the pieplot is half the width or half the height (smallest one). I subtract a bit of margin.
var radius = Math.min(width, height) / 2 - margin

// append the svg object to the div called 'my_dataviz'
var svg = d3.select("#sat_ela_donut")
  .append("svg")
    .attr("width", width)
    .attr("height", 400)
  .append("g")
    .attr("transform", "translate(" + width * 0.5 + "," + height * 0.35 + ")");

// Create dummy data
var ela_data = [ 10.6, //exceeeds
			 26.1, //meets
			 35.8, //approaching
			 27.6, //partially meets}
		   ];
var math_data = [ 9.1, //exceeeds
	 25.7, //meets
	 31.6, //approaching
	 33.6, //partially meets}
  ];



// set the color scale
var color = d3.scaleOrdinal()
  .domain(["% Exceeds", "% Meets", "% Approaching", "% Partially Meets"])
  .range([ "#11664d", "#7bab20", "#efb229",  "#e5742f"]);
  
 var donut_chart_labels = ["% Exceeds", "% Meets", "% Approaching", "% Partially Meets"]

// Compute the position of each group on the pie:
var pie = d3.pie()
  .sort(null) // Do not sort group by size
  .value(function(d) {return d.value;})
var data_ready = pie(d3.entries(ela_data))

// The arc generator
var arc = d3.arc()
  .innerRadius(radius * 0.4)         // This is the size of the donut hole
  .outerRadius(radius * 0.7)

// Another arc that won't be drawn. Just for labels positioning
var outerArc = d3.arc()
  .innerRadius(radius * 0.7)
  .outerRadius(radius * 0.6)

// Build the pie chart: Basically, each part of the pie is a path that we build using the arc function.
svg
  .selectAll('allSlices')
  .data(data_ready)
  .enter()
  .append('path')
  .attr('d', arc)
  .attr('fill', function(d){ return(color(d.value)) })
  .attr("stroke", "white")
  .style("stroke-width", "2px")
  .style("opacity", 1)

// Add the polylines between chart and labels:
svg
  .selectAll('allPolylines')
  .data(data_ready)
  .enter()
  .append('polyline')
    .attr("stroke", "black")
    .style("fill", "none")
    .attr("stroke-width", 1)
    .attr('points', function(d) {
      var posA = arc.centroid(d) // line insertion in the slice
      var posB = outerArc.centroid(d) // line break: we use the other arc generator that has been built only for that
      var posC = outerArc.centroid(d); // Label position = almost the same as posB
      var midangle = d.startAngle + (d.endAngle - d.startAngle) / 2 // we need the angle to see if the X position will be at the extreme right or extreme left
      posC[0] = radius * 0.75 * (midangle < Math.PI ? 1 : -1); // multiply by 1 or -1 to put it on the right or on the left
      return [posA, posB, posC]
    })

// Add the polylines between chart and labels:
svg
  .selectAll('allLabels')
  .data(data_ready)
  .enter()
  .append('text')
    .text( function(d,i) { return donut_chart_labels[i] + " : "  + ela_data[i] + "%" } )
    .attr('font-weight','bold')
    .attr('font-size','14px')
    .attr('transform', function(d) {
        var pos = outerArc.centroid(d);
        var midangle = d.startAngle + (d.endAngle - d.startAngle) / 2
        pos[0] = radius * 0.80 * (midangle < Math.PI ? 1 : -1);
        return 'translate(' + pos + ')';
    })
    .style('text-anchor', function(d) {
        var midangle = d.startAngle + (d.endAngle - d.startAngle) / 2
        return (midangle < Math.PI ? 'start' : 'end')
    })

svg.append("text")
        .attr("x", 0)             
        .attr("y", -120)
        .attr("text-anchor", "middle")
    .attr('font-weight','bold')        
        .style("font-size", "16px") 
        .style("text-decoration", "underline")  
        .text("SAT Performance - ELA");    
    
svg.append('rect')
.attr('x', 95)
.attr('y', -100)
.attr('width', 130)
.attr('height', 120)
.attr('stroke', 'black')
.attr('stroke-dasharray', '5,5')
.attr('fill', '#69a3b2')
.style('opacity', 0.2);


svg.append("text")
.attr("x", 95)             
.attr("y", 40)
.style("font-size", "14px")
.style("fill", "#ff0000")
.text("Only 36.7% of the students");

svg.append("text")
.attr("x", 95)             
.attr("y", 55)
.style("font-size", "14px")
.style("fill", "#ff0000")
.text("were proficient.");

/////////////////////////////////////////////////////////////////////////////

// append the svg object to the div called 'my_dataviz'
var svg = d3.select("#sat_math_donut")
  .append("svg")
    .attr("width", width)
    .attr("height", height)
  .append("g")
    .attr("transform", "translate(" + width * 0.5 + "," + height * 0.35 + ")");



//Compute the position of each group on the pie:
var pie = d3.pie()
.sort(null) // Do not sort group by size
.value(function(d) {return d.value;})
var data_ready = pie(d3.entries(math_data))

//The arc generator
var arc = d3.arc()
.innerRadius(radius * 0.4)         // This is the size of the donut hole
.outerRadius(radius * 0.7)

//Another arc that won't be drawn. Just for labels positioning
var outerArc = d3.arc()
.innerRadius(radius * 0.7)
.outerRadius(radius * 0.6)

//Build the pie chart: Basically, each part of the pie is a path that we build using the arc function.
svg
.selectAll('allSlices')
.data(data_ready)
.enter()
.append('path')
.attr('d', arc)
.attr('fill', function(d){ return(color(d.value)) })
.attr("stroke", "white")
.style("stroke-width", "2px")
.style("opacity", 1)

//Add the polylines between chart and labels:
svg
.selectAll('allPolylines')
.data(data_ready)
.enter()
.append('polyline')
 .attr("stroke", "black")
 .style("fill", "none")
 .attr("stroke-width", 1)
 .attr('points', function(d) {
   var posA = arc.centroid(d) // line insertion in the slice
   var posB = outerArc.centroid(d) // line break: we use the other arc generator that has been built only for that
   var posC = outerArc.centroid(d); // Label position = almost the same as posB
   var midangle = d.startAngle + (d.endAngle - d.startAngle) / 2 // we need the angle to see if the X position will be at the extreme right or extreme left
   posC[0] = radius * 0.75 * (midangle < Math.PI ? 1 : -1); // multiply by 1 or -1 to put it on the right or on the left
   return [posA, posB, posC]
 })

//Add the polylines between chart and labels:
svg
.selectAll('allLabels')
.data(data_ready)
.enter()
.append('text')
 .text( function(d,i) { return donut_chart_labels[i] + " : "  + math_data[i] + "%" } )
 .attr('font-weight','bold')
 .attr('font-size','14px')
 .attr('transform', function(d) {
     var pos = outerArc.centroid(d);
     var midangle = d.startAngle + (d.endAngle - d.startAngle) / 2
     pos[0] = radius * 0.80 * (midangle < Math.PI ? 1 : -1);
     return 'translate(' + pos + ')';
 })
 .style('text-anchor', function(d) {
     var midangle = d.startAngle + (d.endAngle - d.startAngle) / 2
     return (midangle < Math.PI ? 'start' : 'end')
 })

svg.append("text")
     .attr("x", 0)             
     .attr("y", -120)
     .attr("text-anchor", "middle")
 .attr('font-weight','bold')        
     .style("font-size", "16px") 
     .style("text-decoration", "underline")  
     .text("SAT Performance - Math");    
 
svg.append('rect')
.attr('x', 95)
.attr('y', -100)
.attr('width', 130)
.attr('height', 120)
.attr('stroke', 'black')
.attr('stroke-dasharray', '5,5')
.attr('fill', '#69a3b2')
.style('opacity', 0.2);


svg.append("text")
.attr("x", 95)             
.attr("y", 40)
.style("font-size", "14px")
.style("fill", "#ff0000")
.text("Only 34.8% of the students");

svg.append("text")
.attr("x", 95)             
.attr("y", 55)
.style("font-size", "14px")
.style("fill", "#ff0000")
.text("were proficient.");










</script>





</body>
</html>
